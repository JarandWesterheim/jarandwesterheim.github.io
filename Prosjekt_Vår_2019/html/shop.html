<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>shop</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/stylesheet.css">
    <link href="https://fonts.googleapis.com/css?family=Monoton|Orbitron" rel="stylesheet">
    <!-- firebase -->
    <script src="https://www.gstatic.com/firebasejs/5.9.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyALIIVij5Rp162mHTDa8ictgZ3O7YAITi0",
        authDomain: "project-spring-2019.firebaseapp.com",
        databaseURL: "https://project-spring-2019.firebaseio.com",
        projectId: "project-spring-2019",
        storageBucket: "",
        messagingSenderId: "163179103807"
      };
      firebase.initializeApp(config);
    </script>
    <script type="text/javascript" src="../javascript/javascript.js"></script>
  </head>
  <body>
    <header>
      <a id="logo" href="homepage.html">b</a>
      <b><span>new</span>ARCADE</b>
      <a href="homepage.html"><i id="cart" class="fas fa-cart-plus"></i></a>
      <a id="header--user-icon" href="#"><i class="far fa-user"></i></a>
      <i onclick="showDropdown()" id="header--menu-icon" class="fas fa-bars"></i>
      <div id="dropdown" class="header--dropdown hidden">
        <a id="header--dropdown-home" class="header__topic" href="homepage.html">Home</a>
        <a onclick="showDropdownshop()" class="header__topic">Shop<i id="dropdown--shop-arrow" class="fas fa-chevron-down"></i></a>
        <a id="header__subtopic1" class="header__subtopic subtopic--hidden" href="shop.html">all games</a>
        <a id="header__subtopic2" class="header__subtopic subtopic--hidden" href="shop.html#arcade">arcade games</a>
        <a id="header__subtopic3" class="header__subtopic subtopic--hidden" href="shop.html#digital">digital games</a>
        <a id="header__subtopic4" class="header__subtopic subtopic--hidden" href="shop.html#board">board games</a>
        <a class="header__topic" href="homepage.html#reviews">reviews</a>
        <a class="header__topic" href="cart.html">cart<i class="fas fa-cart-plus"></i></a>
        <a class="header__topic" href="user.html">user<i class="far fa-user"></i></a>
      </div>
    </header>
    <main>
      <div class="main--heroimg">
        <b><span></span>SHOP</b>
      </div>
      <div class="shop">
        <div id="shop--arcade-contracted" class="shop--product-contracted">
          <div class="shop--header">
            <b>Arcade Games</b>
            <i id="arcade--arrow" class="fas fa-chevron-down" onclick="expandArcade()"></i>
          </div>
          <div id="shop--arcade-container" class="shop--container">

          </div>
        </div>
        <div id="shop--digital-contracted" class="shop--product-contracted">
          <div class="shop--header">
            <b>Digital Games</b>
            <i id="digital--arrow" class="fas fa-chevron-down" onclick="expandDigital()"></i>
          </div>
          <div id="shop--digital-container" class="shop--container">

          </div>
        </div>
        <div id="shop--board-contracted" class="shop--product-contracted">
          <div class="shop--header">
            <b>Board Games</b>
            <i id="board--arrow" class="fas fa-chevron-down" onclick="expandBoard()"></i>
          </div>
          <div id="shop--board-container" class="shop--container">

          </div>
        </div>
      </div>

    </main>



    <script type="text/javascript">
    const main =document.getElementById("shop--digital-container");
    const db = firebase.database();
    const digital = db.ref("products/digital");
    const arcade = db.ref("products/arcade");
    const board = db.ref("products/board");

    function generateArticlehomepage(snapshot) {
      let digitalproduct = snapshot.val();
      let key = snapshot.key;
      main.innerHTML +=`
          <article class="shop--article--content"><a href="gamepagedigital.html?id=${key}">
            <img class="shop--article--img" src="${digitalproduct.Image}" alt="img"></img>
            <div class="shop--article--text">
              <p><b class="shop--article--name">${digitalproduct.Name}</b></p>
              <p class="shop--article--price"><b>$${digitalproduct.Price}</b></p>
              <div class="shop--article--content-extra">
                <p><b>${digitalproduct.Type}</b></p>
                <p>PEGI: <b>${digitalproduct.Rating}</b></p>
                <p>Available on: <b>${digitalproduct.Platform}</b></p></a>
                <button onclick="addCart()" class="add-to-cart" id="add-to-cart"><h1>Add to cart <i class="fas fa-cart-plus"></h1></i></button>
              </div>
            </div>
          </article>
          `
    }
    function expandDigital() {
      main.innerHTML = "";
      digital.on("child_added", generateArticlehomepage);
      var digitalarrow = document.getElementById("digital--arrow");
      digitalarrow.classList.toggle("fa-chevron-up");
    }
    function addCart() {
      let cart = document.getElementById("cart");
      cart.classList.toggle("addCart");

    }

    </script>

  </body>
</html>
